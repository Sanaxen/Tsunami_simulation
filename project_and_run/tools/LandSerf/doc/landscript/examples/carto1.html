<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
 <link rel="Stylesheet" rev="Stylesheet" href="../../css/landserf.css" media="All" />

<!-- LandSerf Header -->

 <title>LandScript - Example Scripts</title>
 <meta name="description" content="LandSerf scripting examples" />
 <meta name="keywords" content="LandSerf, GIS, DEM, Java, scripting, map algebra, LandScript, programming, Terrain modelling" />
</head>

<body>
<div id="header">
 <a href="../../../index.html">
  <img src="../../images/landserfText.gif" width="304" height="57" alt="Go to LandSerf documentation" />
  <span id="lsicon">
   <img src="../../images/iconTitle.gif" width="57" height="57" alt="Go to Landserf documentation" />
  </span>
 </a>
 <br />

 <div id="breadcrumbs">
  <span id="currentLocation">Example</span>       |
  <a href="./index.html">Examples index</a> |
  <a href="../index.html">LandScript</a> |
  <a href="../../index.html">LandSerf 2.3 Documentation</a> |
  <a href="http://www.landserf.org">landserf.org</a>
 </div>
</div>

<div id="container">

 <!-- End of header -->

<h1>Drawing Vector Maps</h1>


<h2>Creating an image from a vector map</h2>

<p>
 By default, only point features can display labels. Therefore to show the labels associated with area or line objects,
 first find their centroids and store these new point values in a separate vector map. The <code>draw()</code> command
 can then draw both the original vector map (primary) and the labels vector map (secondary).
</p>

<table border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">

<!-- ~~~~ Created using jFormat V2.5 ~~~~ -->
<table cellpadding="0" cellspacing="0"><tr>
<td valign="top">
<pre class="numbering">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre>
</td>
<td valign="top">
<pre class="jSource">
<span class="jComment"># Draws a vector map of area objects with labels.</span>
<span class="jKeyword">version</span>(1.0);

<span class="jComment"># Change the directory below to correspond to your file location.</span>
baseDir = &quot;<span class="jQuote">c:/Program Files/LandSerf/data/landscriptExamples/</span>&quot;;

<span class="jComment"># Open vector map containing area objects.</span>
vectMap = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">shapes.vec</span>&quot;);

<span class="jComment"># Create a new vector map containing shape centroids to use as labels</span>
centroids = <span class="jKeyword">tocentroids</span>(vectMap);

<span class="jComment"># Add a small border (1% of width) around vector map for display</span>
border = (<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;)-<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;))*0.01;
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">s</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">s</span>&quot;)-border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">n</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">n</span>&quot;)+border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;)-border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;)+border);

<span class="jComment"># Set drawing styles</span>
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">pointsize</span>&quot;,0.1);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">showlabels</span>&quot;,&quot;<span class="jQuote">true</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelbackground</span>&quot;,&quot;<span class="jQuote">0 0 0 0</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelsize</span>&quot;,28);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelposition</span>&quot;,&quot;<span class="jQuote">centre</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">linewidth</span>&quot;,12);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">boundarycolour</span>&quot;,&quot;<span class="jQuote">0 0 0 50</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">polygonopacity</span>&quot;,0.75);

<span class="jComment"># Draw the vector map with labels and save to file</span>
<span class="jKeyword">draw</span>(baseDir&amp;&quot;<span class="jQuote">shapes.png</span>&quot;,&quot;<span class="jQuote">null</span>&quot;,&quot;<span class="jQuote">null</span>&quot;,vectMap,centroids);
</pre>
</td></tr></table>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

</td><td valign="top">
<code>shapes.png</code>:<br />
<img src="images/shapes1.png" width="300" height="300" alt="shapes.png" />
</tr></table>


<h2>Creating a high quality SVG image from a vector map</h2>

<p>
 SVG (Scalable Vector Graphics) images preserve the high quality appearance of vector maps. Similar to the 
 previous example, but this time, the centroid labels are combined with the original vector map so that a
 single map can be saved in SVG format.
</p>

<table border="0" cellspacing="0" cellpadding="0"><tr><td valign="top">

<!-- ~~~~ Created using jFormat V2.5 ~~~~ -->
<table cellpadding="0" cellspacing="0"><tr>
<td valign="top">
<pre class="numbering">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
</pre>
</td>
<td valign="top">
<pre class="jSource">
<span class="jComment"># Saves a vector map of area objects with labels as an SVG file.</span>
<span class="jKeyword">version</span>(1.0);

<span class="jComment"># Change the directory below to correspond to your file location.</span>
baseDir = &quot;<span class="jQuote">c:/Program Files/LandSerf/data/landscriptExamples/</span>&quot;;

<span class="jComment"># Open vector map containing area objects.</span>
vectMap = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">shapes.vec</span>&quot;);

<span class="jComment"># Create a new vector map containing shape centroids to use as labels</span>
centroids = <span class="jKeyword">tocentroids</span>(vectMap);

<span class="jComment"># Combine the two vector maps</span>
vectMap = <span class="jKeyword">combine</span>(vectMap_,centroids_);

<span class="jComment"># Add a small border (1% of width) around vector map for display</span>
border = (<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;)-<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;))*0.01;
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">s</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">s</span>&quot;)-border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">n</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">n</span>&quot;)+border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">w</span>&quot;)-border);
<span class="jKeyword">edit</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;,<span class="jKeyword">info</span>(vectMap,&quot;<span class="jQuote">e</span>&quot;)+border);

<span class="jComment"># Set drawing styles</span>
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">pointsize</span>&quot;,0.1);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">showlabels</span>&quot;,&quot;<span class="jQuote">true</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelbackground</span>&quot;,&quot;<span class="jQuote">0 0 0 0</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelsize</span>&quot;,14);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">labelposition</span>&quot;,&quot;<span class="jQuote">centre</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">linewidth</span>&quot;,8);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">boundarycolour</span>&quot;,&quot;<span class="jQuote">255 255 255 50</span>&quot;);
<span class="jKeyword">vectorstyle</span>(&quot;<span class="jQuote">polygonopacity</span>&quot;,0.75);

<span class="jComment"># Save the combined map as an SVG file</span>
<span class="jKeyword">save</span>(vectMap,baseDir&amp;&quot;<span class="jQuote">shapes.svg</span>&quot;,&quot;<span class="jQuote">svg</span>&quot;);
</pre>
</td></tr></table>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


</td><td valign="top">
<code>shapes.svg</code>:<br />
<object data="images/shapes.svg" width="300" height="300" type="image/svg+xml">
 <embed src="images/shapes.svg" width="300" height="300" type="image/svg+xml" />
</object>
</tr></table>

 <!-- Footer area -->
 <div id="footer">
  <div id="lastModified">Last Modified, 21st April, 2009</div>
 </div>

</div> <!-- End of container area -->
</body>
</html>