<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
 <link rel="Stylesheet" rev="Stylesheet" href="../../css/landserf.css" media="All" />

<!-- LandSerf Header -->

 <title>LandScript - Example Scripts</title>
 <meta name="description" content="LandSerf scripting examples" />
 <meta name="keywords" content="LandSerf, GIS, DEM, Java, scripting, map algebra, LandScript, programming, Terrain modelling" />
</head>

<body>
<div id="header">
 <a href="../../../index.html">
  <img src="../../images/landserfText.gif" width="304" height="57" alt="Go to LandSerf documentation" />
  <span id="lsicon">
   <img src="../../images/iconTitle.gif" width="57" height="57" alt="Go to Landserf documentation" />
  </span>
 </a>
 <br />

 <div id="breadcrumbs">
  <span id="currentLocation">Example</span>       |
  <a href="./index.html">Examples index</a> |
  <a href="../index.html">LandScript</a> |
  <a href="../../index.html">LandSerf 2.3 Documentation</a> |
  <a href="http://www.landserf.org">landserf.org</a>
 </div>
</div>

<div id="container">

 <!-- End of header -->

<h1>Tiling Objects</h1>

<h2>Splitting a raster into 4 quadrants</h2>

<!-- ~~~~ Created using jFormat V2.5 ~~~~ -->
<table cellpadding="0" cellspacing="0"><tr>
<td valign="top">
<pre class="numbering">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre>
</td>
<td valign="top">
<pre class="jSource">
<span class="jComment"># Splits a raster into 4 equally sized tiles</span>
<span class="jKeyword">version</span>(1.0);

<span class="jComment"># Change the directory below to correspond to your file location.</span>
baseDir = &quot;<span class="jQuote">c:/Program Files/LandSerf/data/landscriptExamples/</span>&quot;;

<span class="jComment"># Open a raster map to split.</span>
raster = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">topoMap.srf</span>&quot;);

<span class="jComment"># Create four new empty rasters.</span>
midEasting  = <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">w</span>&quot;)+(<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">e</span>&quot;)-<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">w</span>&quot;))/2;
midNorthing = <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">s</span>&quot;)+(<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">n</span>&quot;)-<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">s</span>&quot;))/2;

nw = <span class="jKeyword">newraster</span>(<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">w</span>&quot;),midNorthing,
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">xRes</span>&quot;),<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">yRes</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numRows</span>&quot;)/2,<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numCols</span>&quot;)/2);
ne = <span class="jKeyword">newraster</span>(midEasting,midNorthing,
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">xRes</span>&quot;),<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">yRes</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numRows</span>&quot;)/2,<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numCols</span>&quot;)/2);
sw = <span class="jKeyword">newraster</span>(<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">w</span>&quot;),<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">s</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">xRes</span>&quot;),<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">yRes</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numRows</span>&quot;)/2,<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numCols</span>&quot;)/2);
se = <span class="jKeyword">newraster</span>(midEasting,<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">s</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">xRes</span>&quot;),<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">yRes</span>&quot;),
               <span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numRows</span>&quot;)/2,<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">numCols</span>&quot;)/2);

<span class="jComment"># Cookie-cut the original raster with the new quadrant rasters.</span>
nw = <span class="jKeyword">combine</span>(raster_,nw_,&quot;<span class="jQuote">intersection</span>&quot;);
<span class="jKeyword">edit</span>(nw,&quot;<span class="jQuote">title</span>&quot;,&quot;<span class="jQuote">NW quadrant of </span>&quot;&amp;<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">title</span>&quot;));
ne = <span class="jKeyword">combine</span>(raster_,ne_,&quot;<span class="jQuote">intersection</span>&quot;);
<span class="jKeyword">edit</span>(ne,&quot;<span class="jQuote">title</span>&quot;,&quot;<span class="jQuote">NE quadrant of </span>&quot;&amp;<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">title</span>&quot;));
sw = <span class="jKeyword">combine</span>(raster_,sw_,&quot;<span class="jQuote">intersection</span>&quot;);
<span class="jKeyword">edit</span>(sw,&quot;<span class="jQuote">title</span>&quot;,&quot;<span class="jQuote">SW quadrant of </span>&quot;&amp;<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">title</span>&quot;));
se = <span class="jKeyword">combine</span>(raster_,se_,&quot;<span class="jQuote">intersection</span>&quot;);
<span class="jKeyword">edit</span>(se,&quot;<span class="jQuote">title</span>&quot;,&quot;<span class="jQuote">SE quadrant of </span>&quot;&amp;<span class="jKeyword">info</span>(raster,&quot;<span class="jQuote">title</span>&quot;));

<span class="jComment"># Save the new quadrants</span>
<span class="jKeyword">save</span>(nw,baseDir&amp;&quot;<span class="jQuote">topoMapNW.srf</span>&quot;);
<span class="jKeyword">save</span>(ne,baseDir&amp;&quot;<span class="jQuote">topoMapNE.srf</span>&quot;);
<span class="jKeyword">save</span>(sw,baseDir&amp;&quot;<span class="jQuote">topoMapSW.srf</span>&quot;);
<span class="jKeyword">save</span>(se,baseDir&amp;&quot;<span class="jQuote">topoMapSE.srf</span>&quot;);
</pre>
</td></tr></table>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ -->


<h2>Combining 4 quadrants into a new raster</h2>

<!-- ~~~~ Created using jFormat V2.5 ~~~~ -->
<table cellpadding="0" cellspacing="0"><tr>
<td valign="top">
<pre class="numbering">
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre>
</td>
<td valign="top">
<pre class="jSource">
<span class="jComment"># Combines 4 tiled rasters into a single raster map.</span>
<span class="jKeyword">version</span>(1.0);

<span class="jComment"># Change the directory below to correspond to your file location.</span>
baseDir = &quot;<span class="jQuote">c:/Program Files/LandSerf/data/landscriptExamples/</span>&quot;;

<span class="jComment"># Start with one of the tiled rasters.</span>
bigRaster = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">topoMapNW.srf</span>&quot;);

<span class="jComment"># Combine each of the tiled rasters with the main raster.</span>
tile = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">topoMapNE.srf</span>&quot;);
bigRaster = <span class="jKeyword">combine</span>(bigRaster_,tile_);

tile = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">topoMapSE.srf</span>&quot;);
bigRaster = <span class="jKeyword">combine</span>(bigRaster_,tile_);

tile = <span class="jKeyword">open</span>(baseDir&amp;&quot;<span class="jQuote">topoMapSW.srf</span>&quot;);
bigRaster = <span class="jKeyword">combine</span>(bigRaster_,tile_);

<span class="jComment"># Save the newly combined raster</span>
<span class="jKeyword">save</span>(bigRaster,baseDir&amp;&quot;<span class="jQuote">topoMapCombined.srf</span>&quot;);
</pre>
</td></tr></table>
<!-- ~~~~~~~~~~~~~~~~~~~~~~~~~~ -->

 <!-- Footer area -->
 <div id="footer">
  <div id="lastModified">Last Modified, 21st April, 2009</div>
 </div>

</div> <!-- End of container area -->
</body>
</html>