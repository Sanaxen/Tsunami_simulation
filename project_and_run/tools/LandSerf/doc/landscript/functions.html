<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
 <link rel="Stylesheet" rev="Stylesheet" href="../css/landserf.css" media="All" />

<!-- LandSerf Header -->

 <title>LandScript - Functions and Operators</title>
 <meta name="description" content="LandScript mathematical and logical functions and operators" />
 <meta name="keywords" content="LandSerf, GIS, DEM, Java, scripting, map algebra, LandScript, programming, Terrain modelling" />
</head>

<body>
<div id="header">
 <a href="../../index.html">
  <img src="../images/landserfText.gif" width="304" height="57" alt="Go to LandSerf documentation" />
  <span id="lsicon">
   <img src="../images/iconTitle.gif" width="57" height="57" alt="Go to Landserf documentation" />
  </span>
 </a>
 <br />

 <div id="breadcrumbs">
  <span id="currentLocation">Function list</span>       |
  <a href="./index.html">LandScript</a> |
  <a href="../../index.html">LandSerf 2.3 Documentation</a> |
  <a href="http://www.landserf.org">landserf.org</a>
 </div>
</div>

<div id="container">

 <!-- End of header -->

<h1>LandScript - Functions and Operators</h1>

<p>
 The following can be used to create expressions. The can be simple scalar expression or map algebra expressions that
 manipulate entire spatial objects. Functions differ from commands in that they do not directly replicate LandSerf 
 operations that would otherwise be accessed via the LandSerf menus. Instead, functions can be used to build complex
 expressions to manipulate the contents of variables in a script.
</p>

<table border="0" cellspacing="0" cellpadding="4">

 <tr><td colspan="2"><h2>Arithmetic Operators</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>These can be used in any expression that involves scalar quantities (simple numbers and variables) or spatial objects (raster and vector maps).</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code></td><td>Addition, subtraction, multiplication and division operators.</td></tr>  
 <tr><td valign="top" nowrap="nowrap"><code>^</code></td><td>Power operator (e.g. <code>5^2</code> is 25, <code>7^(1/3)</code> is the cube root of 7).</td></tr> 
 <tr><td valign="top" nowrap="nowrap"><code>%</code></td><td>Modulus (remainder) operator (e.g. <code>15%6</code> is 3 since 15/6 is 2 with remainder 3).</td></tr>   
 <tr><td valign="top" nowrap="nowrap"><code>()</code></td><td>Brackets to control the order of evaluation.</td></tr>

 <tr><td colspan="2"><h2>String Operators</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Applied to quantities representing text.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code>&quot;</code></td><td>Identifies a string (e.g. <code>title = &quot;Elevation model&quot;;</code>)</td></tr>  
 <tr><td valign="top" nowrap="nowrap"><code>&amp;</code></td><td>String concatenation (e.g. <code>title = &quot;Elevation&quot; &amp; &quot; model&quot;;</code> results in a single string <code>Elevation model</code>).</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">compare</span>(<i>string1</i>,<i>string2</i>)</code></td><td>Compares two strings alphabetically. If <code><i>string1</i></code> comes alphabetically before <code><i>string2</i></code>, this function returns -1; if it comes alphabetically afterwards, returns 1; otherwise returns 0 if the strings are identical.</td></tr>  
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">quote</span>(<i>arg</i>)</code></td><td>Creates a new string that wraps the given <code><i>arg</i></code> inside &quot;quotes&quot;. The argument can be a number or a string, but the result is always a string. This can be useful when needing to create text with quotation marks.</td></tr>  
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">strlen</span>(<i>arg</i>)</code></td><td>Returns the number of characters in string <code><i>arg2</i></code>.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">substring</span>(<i>string</i>,<i>arg1</i>,<i>arg2</i>)</code></td><td>Creates a new string that is part or all of <code><i>string</i></code>. The substring starts from position <code><i>arg1</i></code> where 0 is the first letter of the string, and continues until position just less than <code><i>arg2</i></code>. If <code><i>arg2</i></code> is larger than the length of the string, the substring from <code><i>arg1</i></code> to the end is returned.</td></tr>  
 
 <tr><td colspan="2"><h2>Mathematical Functions and Constants</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Applied to scalar numeric quantities.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">abs</span>(<i>arg</i>)</code></td>  <td>Calculates the absolute value of <i>arg</i> (strips it of any minus sign if it exists).</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">acos</span>(<i>arg</i>)</code>, <code><span class="jKeyword">asin</span>(<i>arg</i>)</code>, <code><span class="jKeyword">atan</span>(<i>arg</i>)</code>, <code><span class="jKeyword">atan2</span>(<i>arg1</i>,<i>arg2</i>)</code></td><td>Inverse trigonometrical functions. Returns values in radians. Values outside the range of +-1 supplied to these functions will return a value of 0.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">cos</span>(<i>arg</i>)</code>, <code><span class="jKeyword">sin</span>(<i>arg</i>)</code>, <code><span class="jKeyword">tan</span>(<i>arg</i>)</code></td> <td>Trigonometrical functions. Expects <i>arg</i> to be an angle expressed in radians . Values of infinity (e.g. <code><span class="jKeyword">tan</span>(<span class="jKeyword">pi</span>()/2)</code>) are returned as 0.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">e</span>()</code></td>              <td>Provides Euler's number <i>e</i> (2.7182818).</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">gauss</span>()</code></td>          <td>Random value with Gaussian (normal) distribution with mean of 0 and standard deviation of 1.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">ln</span>(<i>arg</i>)</code></td>   <td>Natural logarithm (to base <i>e</i>) of <i>arg</i>. If the value given to the function is &lt;=0, the function will return a zero.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">null</span>()</code></td>           <td>Provides the constant representing a null value.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">pi</span>()</code></td>             <td>Provides the constant <i>pi</i> (3.14159).</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">round</span>(<i>arg</i>)</code></td><td>Rounds <i>arg</i> to the nearest whole number.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">rand</span>()</code></td>           <td>Random value with 'rectangular' distribution between 0 and 1.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">sqrt</span>(<i>arg</i>)</code></td> <td>Square root of <i>arg</i>. If the value given to the function is negative, the function will return a 0.</td></tr>

 <tr><td colspan="2"><h2>Statistical Functions</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Applied to a collection of scalar numeric quantities.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">max</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the maximum of the given list of values.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">median</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the median value of the given list of values. If an even number of arguments specified, the mean of the two middle values returned.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">min</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the minimum of the given list of values.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">mode</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the mode of the given list of values. If more than one modal value is found, returns the right-most modal value in the parameter list.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">percentile</span>(<i>perc</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the value corresponding to the given percentile from the given list of values. The percentile (<code>perc</code>) should be a number between 0-100. If there is no value in the list corresponding to the precise percentile figure, the weighted mean of the two nearest ordered values is returned.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">rank</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...)</code></td> <td>Returns the rank (position in ordered list) of the given value (<code>arg1</code>) in the given list of values. </td></tr>
 
 <tr><td colspan="2"><h2>Colour Functions</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Used to maipulate images where each raster value is an integer representing a red, green, blue triplet.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">blue</span>(<i>arg</i>)</code></td> <td>Returns the blue component of the colour integer represented by <code>arg</code>. This is scaled between 0-255.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">green</span>(<i>arg</i>)</code></td> <td>Returns the green component of the colour integer represented by <code>arg</code>. This is scaled between 0-255.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">red</span>(<i>arg</i>)</code></td> <td>Returns the red component of the colour integer represented by <code>arg</code>. This is scaled between 0-255.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">rgb</span>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>)</code></td> <td>Returns a single colour value composed of the red, green and blue colour components represented by <code>arg1</code>, <code>arg2</code> and <code>arg3</code> respectively. Each colour component should be a whole number between 0-255.</td></tr>
 
 <tr><td colspan="2"><h2>Logical Operators and Functions</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Used to test boolean conditions that evaluate to true (non-zero) or false (zero).</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">and</span></code>, <code><span class="jKeyword">or</span></code>, <code><span class="jKeyword">not</span></code></td> <td>Boolean AND, Boolean OR, Boolean NOT</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code>==</code>, <code>!=</code></td> <td>Equal to, not equal to</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code>&gt;</code>, <code>&lt;</code>, <code>&gt;=</code>, <code>&lt;=</code></td> <td>Greater than, less than, greater than or equals, less than or equals</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">ifelse</span>(<i>condition</i>, <i>value_if true</i>, <i>value_if_false</i>)</code><td>Evaluates the expression <i>condition</i>. If the condition is true or evaluates to a non-zero value, returns <i>value_if_true</i> otherwise returns <i>value_if_false</i>. Returned values can be numbers, strings or spatial objects.</td></tr>

 <tr><td colspan="2"><h2>Focal Operators</h2></td></tr> 
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>The are applied to entire spatial objects. They cannot be applied to scalar quantities.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">col</span></code></td> <td>Extracts column coordinate from raster. Allows spatial coordinates to be used in map algebra calculations.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">easting</span></code></td> <td>Extracts easting from a spatial object. Allows spatial coordinates to be used in map algebra calculations.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">northing</span></code></td> <td>Extracts northing from a spatial object. Allows spatial coordinates to be used in map algebra calculations.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">row</span></code></td> <td>Extracts row coordinate from raster. Allows spatial coordinates to be used in map algebra calculations.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code>[<i>row_offset</i>,col_offset]</code></td> <td>Extracts raster value with the given coordinate offset. Allows focal neighbourhoods to be processed</td></tr> 
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">_</span></code> (<i>underscore</i>)</td> <td>When appended to a spatial object name inside a map algebra expression, forces it to treated as an entire spatial object rather than scalar value. This can be useful when passing spatial objects to commands inside a map algebra expression.</td></tr> 


 <tr><td colspan="2"><h2>Flow Control</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Used to control program flow of a script.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">if</span> (<i>condition</i>); {<i>action</i>}</code></td> <td>Processes the code in <i>action</i> only if <i>condition</i> is true or evaluates to a non-zero value.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">while</span> (<i>condition</i>); {<i>action</i>}</code></td> <td>Repeatedly processes the code in <i>action</i> while <i>condition</i> is true or it evaluates to a non-zero value.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">return</span> <i>value</i></code></td> <td>Leaves the the current user-defined function or script, optionally returning a value. If placed within a user-defined function, control is returned to the line of code that called the function. If placed elsewhere, the script will quit.</td></tr> 
 
 <tr><td colspan="2"><h2>Miscellaneous</h2></td></tr>
 <tr><td valign="top" nowrap="nowrap" colspan="2"><i>Other functions and reserved words.</i></td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">clear</span> <i>variable</i></code></td> <td>Clears the contents of the given variable. This can be used to free memory in scripts that contain variables holding very large spatial objects.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">function</span> <i>function_name</i>(<i>arg1</i>,<i>arg2</i>,<i>arg3</i>...) <br />{<i>function_code</i>}</code></td> <td>Declares a user-defined function that can be called from within a script. The function can take optional parameters which become local to the code enclosed in braces.</td></tr>
 <tr><td valign="top" nowrap="nowrap"><code><span class="jKeyword">help</span></code></td> <td>If used as a parameter for any function or command, provides a brief message explaining how to use the function or command.</td></tr>
 </table>

 <br /><br />

 
 <!-- Footer area -->
 <div id="footer">
  <div id="lastModified">Last Modified, 20th April, 2009</div>
 </div>

</div> <!-- End of container area -->
</body>
</html>