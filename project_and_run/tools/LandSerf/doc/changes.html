<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
 <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
 <link rel="Stylesheet" rev="Stylesheet" href="css/landserf.css" media="All" />

<!-- LandSerf Header -->

 <title>LandSerf Changes</title>
 <meta name="description" content="LandSerf Documentation" />
 <meta name="keywords" content="LandSerf GIS DEM Terrain modelling" />
</head>

<body>
<div id="header">
  <img src="images/landserfText.gif" width="304" height="57" alt="LandSerf" />
  <span id="lsicon">
   <img src="images/iconTitle.gif" width="57" height="57" alt="Landserf icon" />
  </span>
 <br />

 <div id="breadcrumbs">
  <span id="currentLocation">LandSerf Changes</span>     |
    <a href="./index.html">Local Documentation Home</a> |
  <a href="http://www.landserf.org">landserf.org</a>
 </div>
</div>

<div id="container">

<!-- End of header -->

<h1>LandSerf 2.3: Changes Since 2.3 Preview</h1>

<p>
 <img src="images/previewbar.jpg" width="800" height="120" alt="New features in LandSerf 2.3" />
</p>

  
<h2>New functionality</h2>

<ul>
 <li>Added US Albers equal area projections, both conterminous and all states versions.</li>
 <li>Colour table files can now indicate 'raw' colour values.</li>
 <li>Added load/save option to vector appearance box.</li>
 <li>Pit removal now has choice of pit flooding or outflow channelling.</li>
 <li>Non-rasterized flow magnitude calculation with optional flow vectors now available.</li>
 <br /><i>LandScript:</i><br/>
 <li>LandScript <code>draw()</code> can now draw both primary and secondary vector maps rather than just a single vector map.</li>
 <li>Added <code>vectorstyle()</code> as a LandScript command for setting vector drawing styles for the LandScript <code>draw()</code> and <code>save()</code> commands.</li>
 <li>Added vector map algebra processing to LandScript.</li>
 <li>Added multiscale option to LandScript <code>surfparam()</code> command.</li>
 <li>Added <code>compare()</code> function to LandScript for string comparison and matching.</li>
 <li>LandScript map algebra now uses active attribute in attribute tables if present.</li>
 <li>Added <code>noTable</code> option to the LandScript <code>edit()</code> command	for removing attribute tables from spatial objects.</li>
 <li>Added ability for LandScript to save colour tables and attribute tables.</li>
 <li>Enhanced the LandScript <code>echo()</code> command to allow writing to a text file and with newline and tab control characters.</li>
 <li>Added <code>freqdist()</code> command to LandScript to allow frequency and hammock distributions to be output.</li>
 <li>Added <code>peakclass()</code> command to LandScript to allow peak classification.</li>
 <li>Added <code>quote()</code>, <code>strlen()</code> and <code>substring()</code> LandScript functions.</li>
 <li>LandScript <code>version()</code> can now display more detailed information about the version of LandScript and Java VM.</li>
 <li>LandScript <code>ifelse()</code> function can now return values of any type.</li>
</ul>
 
<h2>User interface changes</h2>

<ul>
 <li>LandScript editor now fully exits the application if called directly and only prompts for closing if there are unsaved edits.</li>
 <li>LandScript editor now highlights variables that use the underscore modifier.</li>
 <li>Appearance of text, including option to size text, now improved in LandScript editor.</li>
 <li>Calls to the GUI version of the LandScript engine without specifying initial data now results in simple header being inserted into blank script.</li>
 <li>Graphics now scale to vector map only if raster is selected but not displayed.</li>
 <li>Vector appearance now remembers boundary colour when no boundary is set.</li>
 <li>Improved speed and quality of vector thumbnail drawing.</li>
 <li>Vector display no longer displays labels (or symbols) for any object with a <code>NO_VALUE</code> attribute.</li>
 <li>Console now appears to the right of the main LandSerf window and can be toggled on and off with the ctrl/cmd-K key.</li>
 <li>Numerous minor changes to improve consistency of GUI.</li>
</ul>

<h2>Bug fixes/enhancements</h2>

<ul>
 <li>Corrected bug that would sometimes mis-transform vector polygons after repeated redrawing.</li>
 <li>Corrected bug that prevented Albers to lat/long transformation from working correctly.</li>
 <li>SVG output can now draw labels.</li>
 <li>SVG output now respects all vector drawing styles with the exception of 'surround lines' and fixed line/point (which has no meaning for non-zooming output).</li>
 <li>Corrected bug in attribute table that could sometimes fail to validate columns with mixed numeric and text values.</li>
 <li>Corrected bug in shapefile writer that would fail if attribute table not valid.</li>
 <li>Corrected bug in Shapefile writer that would sometimes give incorrect file size in header for area and polyline objects.</li>
 <li>Improved KML export to account for polygons with multiple exterior rings.</li>
 <li>Improved robustness of GPX reader to allow elements with missing attributes to be processed.</li>
 <li>Removed bug in shapefile writing of polygons with multiple parts and improved error reporting of shapefile import.</li>
 <li>Saving a graphics image no longer produces error if vectors only are in display.</li>
 <li>Corrected bug that prevented generic point files being read in LandScript.</li>
 <li>Corrected bug that could sometimes result in rounding errors when calculating standard deviation in multiscale parameter selection.</li>
 <li>Corrected bug in multiscale parameter calculation that failed to provide min/max values for feature types, residuals and fractal dimension if selected.</li>
 <li>Corrected bug in LandScript <code>surfparm()</code> which assumed radians rather than degrees for slope tolerance.</li>
 <li>Corrected bug in LandScript where a change in contents of a scalar variable to a spatial object generated an error.</li>
 <li>Corrected LandScript bug that reset evaluation stack when function arguments contained other function calls. This was only a problem when the argument was not the first in a function call.</li>
 <li>Non-jpeg image files now represent null value as transparent pixels.</li>
 <li>Corrected bug that sometimes did not rasterize points when converting from vector to raster.</li>
 <li>Corrected bug in FrenchNTF projection that used wrong ellipsoid for longitude projection.</li>
 <li>Corrected bug where min/max vector values could be <code>NO_VALUE</code> if first point was null.</li>
 <li>Added help for 'function', 'clear', 'if' and 'while' in LandScript.</li>
 <li>Corrected bug where clicking on an existing vector while rectifying resets the control point display styles.</li>
 <li>Improved ridge traversal for peak classification to use shortest path where two paths have same height change.</li>
 <li>Removed bug whereby projection information was lost when creating pitless surfaces.</li>
 <li>Pit removal now accounts for null borders around rasters.</li>
 <li>Error reporting improved providing more detail.</li>
</ul>

 
<h2>API changes/enhancements (for programmers)</h2>

<ul>
 <li>Added <code>getNodeElements()</code> to <code>DOMProcessor</code> to allow breadth-first searches of a DOM tree and <code>renameElement()</code> method
	for renaming tags.</li>
 <li>Numerous minor improvements to API documentation.</li>
 <li>Added <code>nearestPoint()</code> method to <code>Segment</code> class for calculating nearest point between segment and an arbitrary 2d point.</li>
 <li>Refactored vector display preferences to use a single class that encapsulates rendering styles. Note API change now forces this new <code>VectorStyles</code> class to be used rather than setting/getting individual styles in <code>GraphicsArea</code>, <code>VectAppearanceBox</code> etc.</li>
 <li>Exposed scripting classes used by <code>ScriptEngine</code>.</li>
 <li>Renamed <code>getParamAverageSurf()</code> and <code>getParamVariationSurf()</code> to <code>getSummarySurf1()</code> and <code>getSummarySurf2()</code> to reflect the fact that they could also return min/max surfaces.</li>
 <li>Used latest Jogl 1.1.1 libraries (May 2008) and changed 3d viewer to use a lightweight <code>GLJPanel</code> rather than heavyweight <code>GLJCanvas</code>. This now works with Java 6. Reintroduced multi-texture rendering to provide compatibility with older OpenGL drivers.</li>
  <li>Improved <code>isOpenPolygon()</code> in <code>GISVector</code> to account for multi-part polygons.</li> 
  <li>Moved Alloy look and feel settings to separate class to allow decoupling of the LandSerf class from its look and feel.</li> 
</ul>


<h2>Earlier Changes</h2>

<ul>
 <li><a href="./changesPreview.html" target="_blank">Changes from 2.2 to 2.3 Preview</a></li>
  <li><a href="http://www.soi.city.ac.uk/~jwo/landserf/landserf220/doc/changes.html" target="_new">Changes from 2.1 to 2.2</a></li>
  <li><a href="http://www.soi.city.ac.uk/~jwo/landserf/landserf210/doc/changes.html" target="_new">Changes from 2.0 to 2.1</a></li>
  <li><a href="http://www.soi.city.ac.uk/~jwo/landserf/landserf200/preview/" target="_new">Changes from 1.8 to 2.0</a></li>
  <li><a href="http://www.soi.city.ac.uk/~jwo/landserf/landserf180/changes.html" target="_new">Changes prior to 1.8</a></li>
</ul>

  
<!-- Footer area -->
 <div id="footer">
  <div id="lastModified">Last Modified, 20th April, 2009</div>
 </div>

</div> <!-- End of container area -->
</body>
</html>
